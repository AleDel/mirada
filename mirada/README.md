OpenCv JavaScript/TypeScript API for Node.js and Browser on top of OpenCv.js, adding support for npm, TypeScript and utilities related to asynchronicity, DOM, etc.

## Contents

<!-- toc -->

- [Summary](#summary)
- [Install](#install)
- [Usage](#usage)

<!-- tocstop -->

## Summary

 * [TypeScript editor playground](https://cancerberosgx.github.io/demos/mirada-ts-playground/). Experience TypeScript code editor with opencv.js TypeScript online with autocomplete, type-checking, online docs, etc.
 * Type declarations are generated by [Project doxygen2typescript](../doxygen2typescript/) automatically from opencv doxygen XML documentation output (generated in opencv.js emscripten build)

## Install

npm i mirada

## Usage

Sorry I don't have docs yet, please take a look to [tests](test). (Working on it)

<!-- mirada / opencv.js don't support image format decoders out of the box so we need to use a library for this. 

The following is a node.js example that uses `jimp` to read and write files from different formats:

```ts
TODO
``` -->

## Reference API

See [Reference API docs](api). Important types:

 * [opencvTypes](api/interfaces/_types_opencv_.cv.md)
 * [File](mirada/api/classes/_file_.file.md)

## Command line

See [mirada-cli project page](../mirada-cli).

## TODO
- [ ] docs
- [ ] make a demo with a big canvas , several image editor using http://fabricjs.com/
- [ ] include recording in playgrounds: https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element
- [ ] make an example FormatProxy for loading svg
- [ ] document std::Vector (http://www.cplusplus.com/reference/vector/vector/)
- [x] the morphing with slide effect but against two different videos ? (like obama and trump speeches and come
  from one to the other and back again with the slider) - see http://overengineer.net/enabling-cors-for-html5-video-element-screenshots
- [x] camera helpers ../mirada-ts-playground/src/examples/toPack/faceDetectionCamera.ts
- [x] ensureDataFile()
- [x] learnopencv.com/non-photorealistic-rendering-using-opencv-python-c/
- [x] don't waste more time manually porting docs. build the doxygen2typescript thing

### Ideas 

#### chain utility

- [ ] utility wrapper around Mat, similar to File but focused on method chaining and automatic Mat delete(). Example. File.fromFile('i.png').chain.roi(2,3,4,5).convertTo(cv.CV_U8).threshold(...)

 * chain: returns a new Chain which internally has a clone to source File.mat . each of chained methods will apply
each method call after `chain` will automatically call delete() and replace this._mat with the result of the operation. All Mat and cv functions should be supported

## Initial design notes

(obsolte)

Initially a proposal to opencv.js team to add the npm experience:

 * npm install opencv.js
 * the same user files should work both in browser and node.js
 * TypeScript typings

Later: 

 * CLI
 * scripts to generate wasm build  with different configs. 
 * custom wasm build - more optimized - .wasm instead of .s
 * implement style transfer as https://github.com/opencv/opencv/pull/15240/files

